# ===========================================
# DOCUMENT INTELLIGENCE BACKEND - CONFIGURATION TEMPLATE
# ===========================================
# Copy this file to .env.production and fill in your values

# ===========================================
# APPLICATION SETTINGS
# ===========================================
PROJECT_NAME="Document Intelligence API"
VERSION="1.0.0"
DEBUG=false
ENVIRONMENT=production
HOST=0.0.0.0

# ===========================================
# SECURITY (Required - use strong secrets)
# ===========================================
JWT_SECRET_KEY="generate-a-256-bit-secret-key"
JWT_ALGORITHM="HS256"

# Session Configuration
SESSION_DURATION_HOURS=2
REFRESH_SESSION_DURATION_DAYS=7

# ===========================================
# POSTGRESQL/CLOUD SQL (Required)
# ===========================================

# Cloud SQL Settings
DATABASE_NAME="doc_intelligence"
DATABASE_USER="postgres"
DATABASE_PASSWORD="your-database-password"
CLOUD_SQL_INSTANCE="your-project:us-central1:your-instance"
USE_CLOUD_SQL_CONNECTOR=true
CLOUD_SQL_IP_TYPE="PRIVATE"

# Connection Pool Settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ===========================================
# GOOGLE CLOUD PLATFORM (Required)
# ===========================================
GCP_PROJECT_ID="your-gcp-project-id"
GCS_BUCKET_NAME="your-bucket-name"

# Local development only (not needed in Cloud Run)
# GOOGLE_APPLICATION_CREDENTIALS="/path/to/service-account.json"

# ===========================================
# CORS CONFIGURATION
# ===========================================

# Production CORS Origins (JSON array format)
PRODUCTION_CORS_ORIGINS='["https://your-frontend-url.run.app"]'

# Frontend domain (for automatic CORS detection)
FRONTEND_DOMAIN="yourdomain.com"

# ===========================================
# DOCUMENT SETTINGS
# ===========================================
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES='["pdf", "xlsx"]'
SIGNED_URL_EXPIRATION_MINUTES=60

# ===========================================
# LOGGING
# ===========================================
LOG_LEVEL="INFO"
LOG_FORMAT="json"

# ===========================================
# CACHE CONFIGURATION
# ===========================================

# Enable/disable caching (default: true)
CACHE_ENABLED=true

# Cache backend: "memory" (default) or "redis"
# - memory: In-memory cache, no external service needed (FREE)
# - redis: GCP Memorystore Redis for distributed caching
CACHE_BACKEND=memory

# Default cache TTL in seconds (default: 300 = 5 minutes)
CACHE_DEFAULT_TTL=300

# ===========================================
# REDIS CONFIGURATION (only when CACHE_BACKEND=redis)
# ===========================================

# GCP Memorystore Redis instance IP (required for redis backend)
# REDIS_HOST=10.0.0.3

# Redis port (default: 6379)
# REDIS_PORT=6379

# Redis password (optional, for AUTH)
# REDIS_PASSWORD=

# Redis database number (default: 0)
# REDIS_DB=0

# ===========================================
# CACHE TTL SETTINGS (in seconds)
# ===========================================

# Document list cache TTL (default: 120 = 2 minutes)
CACHE_DOCUMENT_TTL=120

# Folder cache TTL (default: 300 = 5 minutes)
CACHE_FOLDER_TTL=300

# Organization cache TTL (default: 1800 = 30 minutes)
CACHE_ORG_TTL=1800

# User list cache TTL (default: 300 = 5 minutes)
CACHE_USER_TTL=300
